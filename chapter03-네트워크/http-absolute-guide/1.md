# 우아한 스터디

# 1회차 /  OT

# 2회차

## HTTP 개관

> HTTP(Hyper Text Transfer Protocol), 전 세계가 약속한 인터넷 공용어
> 

신뢰성 있는 데이터 전송 프로토콜을 사용하면 인터넷의 결함과 약점에 대해 걱정하지 않고 기능을 구현할 수 있다.

웹 클라이언트(이하 클라이언트)와 웹 서버(이하 서버)는 WWW(World Wide Web)의 기본 요소이자, HTTP 요청과 응답으로 이루어진 통신 주체이다. 클라이언트는 서버에 필요한 데이터를  HTTP에 의거 요청하고, 서버는 클라이언트가 요청한 데이터를 제공하거나 저장한다.

---

Resource는 서버가 관리하는 웹 컨텐츠의 원천으로 미디어 타입, URI 등이 있다.

미디어 타입은 MIME(Multipurpose Internet Mail Extensions)라는 다목적 인터넷 확장이라는 데이터 포맷 라벨로 구분하는데, 이는 HTTP가 수천 개의 데이터 타입을 다루기 때문이다. 이 포맷 라벨로 웹에 전송되는 객체를 구분할 수 있다. MIME을 표현하는 형식은 주 타입/부 타입이다. 예로 아래를 보자.

- HTML 데이터 타입 = ‘text/html’
- JPEG 이미지 데이터 타입 = ‘image/jpeg’
- GIF 이미지 데이터 타입 = ‘image/gif’
- JSON 데이터 타입 = ‘application/json’

URI는 URL, URN으로도 호칭된다.

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3d1631b2-5f4a-4567-9f28-99812c3d24e0/Untitled.png)

- URI(Uniform Resource Identifier) : 통합 자원 식별자
    - 인터넷 자원을 식별할 수 있는 유일한 주소(문자열)로서, URL, URN이라는 하위 개념을 만들어 표준을 지키며 자원을 식별할 수 있다. URL 표준의 등장 이전에는 개발자들이 직접 URI를 만들어 사용해 문제가 있었다.
- URL(Unicorm Resource Locator) : 통합 자원 지시자
    - 특정 서버의 한 리소스에 대한 구체적인 위치를 서술한다.
    - 어디에 존재하고, 어떻게 접근할 수 있는지 명확하게 알 수 있다.
- URN(Uniform Resource Name) : 통합 자원 이름
    - URN은 URL의 한계로 인해 추가되었으나 이미 WWW에서는 URL을 표준으로 삼고 있어 이를 바꾸기엔 많은 리스크가 동반된다. 따라서 URN이 표준으로 채택되진 못했다.
    - URL의 한계는 무엇일까? 기존에 노출되던 주소를 개발자가 바꾼다면, 기존 사용자는 동일한 주소로 접속할 때 404 페이지를 맞닥뜨리게 된다. 리소스가 옮겨지므로 해당 URL을 더 사용할 수 없게 되며, 기존에 갖고 있던 객체를 찾을 방법이 없어진다.
    - 컨텐츠를 이루는 한 리소스의 위치에 영향 받지 않는 유일무이한 이름. 즉 위치 독립적이다.
    - URN은 리소스를 옮기더라도 이상 없이 동작한다. 즉 영속적이다.
    - 따라서 리소스의 이름이 변하지 않는 한, 여러 네트워크 접속 프로콜로 접근해도 문제가 없다.
    

URI는 규약, URL은 규약의 형태, URN은 보조적인 규약 형태라고 생각하자.

---

Transaction은 시스템에서 사용되는 쪼갤 수 없는 업무 처리의 단위이다. 따라서 HTTP 트랜잭션은 HTTP 메세지를 통해 클라이언트의 요청 명령과 서버의 응답 결과로 이루어진다. 메세지를 언급하기 전에, 어떤 HTTP 요청인지 나타내 주는 메서드와 응답에 대한 결과를 판단할 수 있는 상태코드를 알아보자.

- 메서드(Method)
    - 서버에 어떤 동작을 취해야 하는지 알리는 구문으로 모든 HTTP 요청 메세지는 하나의 메소드를 가진다.
    - REST API 표준의 메서드들을 생각하면 좋다. GET, POST, PATCH, PUT, DELETE 등
- 상태 코드(Status Code)
    - 클라이언트의 요청과 서버 응답의 결과를 알려주는 세 자리 숫자로 모든 HTTP 응답 메세지는 상태 코드와 함께 반환된다.
    - 200, 404, 500 등으로 1xx, 2xx, 3xx, 4xx, 5xx 등 가리키는 의미가 다르다.

HTTP 트랜잭션에 대해 한 가지 언급해두자면, 복잡한 서비스(커머스, 포탈 등)는 웹 페이지를 호출할 때 하나의 HTTP 트랜잭션이 아니라 복합적인 트랜잭션을 수행한다. 바탕이 되는 HTML을 불러오고 나머지 리소스를 위한 트랜잭션이 실행되는데, 이 때 리소스는 각각 다른 서버에 존재할 수 있다. 즉 웹 페이지는 리소스가 아닌 리소스의 집합이다.

그렇다면... 메세지는 무엇일까?

[HTTP 메시지 - HTTP | MDN](https://developer.mozilla.org/ko/docs/Web/HTTP/Messages)

HTTP 메세지는 줄 단위의 문자열로 요청 메세지(Request Message)와 응답 메세지(Response Message)로 구분된다.

- 메세지는 이진 형태가 아니라 문자열 형태이며, 사람이 읽고 쓰기 편하다. 따라서 처리 속도가 빠르진 않아도 확장 및 디버그가 용이하다.
- 요청 메세지와 응답 메세지는 세 가지 구조를 지닌다.
    - 시작 줄(Start-line): 요청이라면 어떤 것을 해야 하는가, 응답이라면 어떤 결과인가를 나타낸다.
    - 헤더(Header): 0개 이상의 헤더 필드는 콜론으로 구분되어 1:1 key-value 쌍으로 구성된다. 헤더는 한 줄에 1개만 존재하고 마지막에는 빈 줄 하나를 두어 본문과 구분한다.
    - 본문(Body): 요청의 본문은 웹 서버로 데이터를 보내고 응답은 역으로 반환한다. 메세지 본문에는 이진 데이터를 포함할 수도 있다(Image 등의 파일 형식)

---
